<?xml version="1.0" encoding="UTF-8" ?>
<entity-mappings xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="1.0"
    xmlns="http://java.sun.com/xml/ns/persistence/orm" xsi:schemaLocation="http://java.sun.com/xml/ns/persistence/orm
http://java.sun.com/xml/ns/persistence/orm_1_0.xsd">
    <package>ru.itsphere.subscription.domain</package>

    <entity name="Subscription" class="Subscription">
        <table name="subscription" />
        <attributes>
            <id name="id">
                <generated-value strategy="IDENTITY" />
            </id>
            <basic name="name" />
            <basic name="clientId" />
            <basic name="organizationId" />
        </attributes>
    </entity>

    <entity name="Client" class="Client">
        <table name="client" />
        <attributes>
            <id name="id">
                <generated-value strategy="IDENTITY" />
            </id>
            <basic name="firstName" />
            <basic name="secondName" />
            <basic name="email" />
            <basic name="phone" />
            <one-to-many name="subscriptions" target-entity="Subscription" fetch="EAGER" mapped-by="clientId"/>
        </attributes>
    </entity>

    <entity name="Organization" class="Organization">
        <table name="organization" />
        <attributes>
            <id name="id">
                <generated-value strategy="IDENTITY" />
            </id>
            <basic name="name" />
            <one-to-many name="subscriptions" target-entity="Subscription" fetch="EAGER" mapped-by="organizationId"/>
        </attributes>
    </entity>
</entity-mappings>